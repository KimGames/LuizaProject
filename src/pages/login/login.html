<!--
  Generated template for the LoginPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-content padding>

  <div class="content-login">

    <ion-list>
      <form novalidate (ngSubmit)="doLogin()" [formGroup]="loginForm">

        <ion-item>
          <ion-label floating>Nome de usuário</ion-label>
          <ion-input type="text" [(ngModel)]="userData.username" formControlName="username" [class.error1]="!loginForm.controls.username.valid && loginForm.controls.username.dirty"></ion-input>
        </ion-item>
        <ion-item no-lines *ngIf="( loginForm.get('username').hasError('minlength') || loginForm.get('username').hasError('maxlength') ||loginForm.get('username').hasError('pattern') ||loginForm.get('username').hasError('required') ) && loginForm.get('username').touched">
          <div class="error" *ngIf="loginForm.get('username').hasError('required') && loginForm.get('username').touched">
            Por favor, insira um nome de usuário
          </div>
          <div class="error" *ngIf="loginForm.get('username').hasError('minlength') && loginForm.get('username').touched">
            Mínimo 4 caracteres
          </div>
          <div class="error" *ngIf="loginForm.get('username').hasError('maxlength') && loginForm.get('username').touched">
            Máximo 10 caracteres
          </div>
          <div class="error" *ngIf="loginForm.get('username').hasError('pattern') && loginForm.get('username').touched">
            Use apenas caracteres alfabéticos
          </div>
        </ion-item>

        <ion-item>
          <ion-label floating>Senha</ion-label>
          <ion-input type="password" [(ngModel)]="userData.password" formControlName="password" [class.error1]="!loginForm.controls.password.valid && loginForm.controls.password.dirty"></ion-input>
        </ion-item>
        <ion-item no-lines *ngIf="( loginForm.get('password').hasError('minlength') || loginForm.get('password').hasError('maxlength') ||loginForm.get('password').hasError('required') ) && loginForm.get('password').touched">
          <div class="error" *ngIf="loginForm.get('password').hasError('required') && loginForm.get('password').touched">
            Por favor, insira uma senha
          </div>
          <div class="error" *ngIf="loginForm.get('password').hasError('minlength') && loginForm.get('password').touched">
            Mínimo 8 caracteres
          </div>
          <div class="error" *ngIf="loginForm.get('password').hasError('maxlength') && loginForm.get('password').touched">
            Máximo 12 caracteres
          </div>
        </ion-item>

        <br>

        <button type="submit" ion-button block [disabled]="loginForm.invalid">Acessar</button>

      </form>
    </ion-list>

  </div>

</ion-content>
